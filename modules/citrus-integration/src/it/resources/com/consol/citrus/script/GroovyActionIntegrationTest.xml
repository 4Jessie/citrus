<?xml version="1.0" encoding="UTF-8"?>
<spring:beans xmlns="http://www.citrusframework.org/schema/testcase" xmlns:spring="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd http://www.citrusframework.org/schema/testcase http://www.citrusframework.org/schema/testcase/citrus-testcase-1.0.xsd">
    <testcase name="GroovyActionIntegrationTest">
		<meta-info>
			<author>Christoph Deppisch</author>
			<creationdate>2009-02-25</creationdate>
			<status>FINAL</status>
			<lastUpdatedBy>Christoph Deppisch</lastUpdatedBy>
			<lastUpdatedOn>2009-02-25T00:00:00</lastUpdatedOn>
		</meta-info>
		
        <description>
			This example executes groovy scripts using both inline script definition 
			and external file resource.
		</description>
        <variables>
            <variable name="time" value="citrus:currentDate()"/>
        </variables>
        <actions>
            <groovy>
                println 'Hello TestSuite'
            </groovy>
            <groovy>
                println 'Hello TestSuite ${time}'
            </groovy>
            <groovy>
                <![CDATA[
                    import com.consol.citrus.*
                    import com.consol.citrus.variable.*
                    import com.consol.citrus.context.TestContext
                    import com.consol.citrus.script.GroovyAction.ScriptExecutor
                    
                    public class GScript implements ScriptExecutor {
                        public void execute(TestContext context) {
                            println context.getVariable("time")
                        }
                    }
                ]]>
            </groovy>
            <groovy resource="classpath:com/consol/citrus/script/example.groovy"/>
        </actions>
    </testcase>
</spring:beans>